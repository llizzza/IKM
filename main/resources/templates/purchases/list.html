<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ–¥–∞–∂–∏ | Fitness Pro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /*
         * –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
         * :root - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
         * body - —Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —à—Ä–∏—Ñ—Ç
         * .header-section - —à–∞–ø–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ –∫—Ä–∞—è–º–∏
         * .data-card - –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞–±–ª–∏—Ü—ã —Å —Ç–µ–Ω—å—é
         * .price-text - —Å—Ç–∏–ª—å —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å—É–º–º—ã –ø—Ä–æ–¥–∞–∂–∏ (–∑–µ–ª–µ–Ω—ã–π –∏ –∂–∏—Ä–Ω—ã–π)
         * .btn-delete - –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
         */
        :root { --main-blue: #2196f3; --light-blue: #f0f8ff; }
        body { background-color: var(--light-blue); font-family: 'Segoe UI', sans-serif; }
        .header-section { background: linear-gradient(135deg, #64b5f6 0%, #2196f3 100%); color: white; padding: 40px 0; border-radius: 0 0 40px 40px; margin-bottom: 30px; }
        .data-card { background: white; border: none; border-radius: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); padding: 20px; }
        .price-text { color: #2e7d32; font-weight: bold; }
        .btn-delete { color: #dc3545; transition: 0.2s; text-decoration: none; font-size: 1.2rem; }
        .btn-delete:hover { color: #a71d2a; transform: scale(1.2); }
    </style>
</head>
<body>
<!--
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–¥–∞–∂ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å TicketPurchaseController –∏ –º–æ–¥–µ–ª—å—é TicketPurchase.

    –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫:
        * –ó–∞–≥–æ–ª–æ–≤–æ–∫: üí∏ –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂
        * –ö–Ω–æ–ø–∫–∞ "–û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É" - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /purchases/new
        * –ö–Ω–æ–ø–∫–∞ "–ú–µ–Ω—é" - –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    - –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–¥–∞–∂:
        * –î–∞—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏ (p.purchaseDate) - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ #temporals.format
        * –ö–ª–∏–µ–Ω—Ç (p.client.fullName)
        * –ê–±–æ–Ω–µ–º–µ–Ω—Ç (p.seasonTicket.specialization.name)
        * –°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂–∏ (p.seasonTicket.price + ' ‚ÇΩ')
        * –î–µ–π—Å—Ç–≤–∏–µ: –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
    - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Thymeleaf:
        * th:each="p : ${purchases}" - –ø–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂
        * th:text –∏ th:href - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ
-->
<div class="header-section text-center">
    <div class="container d-flex justify-content-between align-items-center">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
        <h1 class="mb-0">üí∏ –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂</h1>
        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div>
            <!-- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–æ–¥–∞–∂–∏ -->
            <a th:href="@{/purchases/new}" class="btn btn-light fw-bold px-4 rounded-pill">üí≥ –û—Ñ–æ—Ä–º–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É</a>
            <!-- –í–æ–∑–≤—Ä–∞—Ç –≤ –º–µ–Ω—é -->
            <a href="/" class="btn btn-outline-light fw-bold px-4 rounded-pill ms-2">üè† –ú–µ–Ω—é</a>
        </div>
    </div>
</div>

<div class="container">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π –ø—Ä–æ–¥–∞–∂ -->
    <div class="card data-card">
        <table class="table table-hover align-middle">
            <thead>
            <tr>
                <th>–î–∞—Ç–∞</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–ê–±–æ–Ω–µ–º–µ–Ω—Ç</th>
                <th class="text-end">–°—É–º–º–∞</th>
                <th class="text-center">–î–µ–π—Å—Ç–≤–∏–µ</th>
            </tr>
            </thead>
            <tbody>
            <!-- –ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂ -->
            <tr th:each="p : ${purchases}">
                <td th:text="${#temporals.format(p.purchaseDate, 'dd.MM.yyyy')}"></td>
                <td th:text="${p.client.fullName}" class="fw-bold"></td>
                <td th:text="${p.seasonTicket.specialization.name}"></td>
                <td class="text-end price-text" th:text="${p.seasonTicket.price + ' ‚ÇΩ'}"></td>
                <td class="text-center">
                    <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∏ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º -->
                    <a th:href="@{/purchases/delete/{id}(id=${p.purchaseNumber})}"
                       class="btn-delete"
                       onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å –æ –ø—Ä–æ–¥–∞–∂–µ?')">
                        üóëÔ∏è
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
