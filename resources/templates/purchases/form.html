<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ | Fitness Pro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /*
         * –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏:
         * body - —Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —à—Ä–∏—Ñ—Ç
         * .form-card - –∫–∞—Ä—Ç–æ—á–∫–∞ —Ñ–æ—Ä–º—ã —Å —Ç–µ–Ω—å—é –∏ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è–º–∏
         * .card-header - –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ñ–æ—Ä–º—ã
         * .form-label - —Ü–≤–µ—Ç –∏ –∂–∏—Ä–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –º–µ—Ç–æ–∫ –ø–æ–ª–µ–π
         * .form-control, .form-select - —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –∏ —Å–µ–ª–µ–∫—Ç–æ–≤
         * .btn-buy - –∫–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
         */
        body { background-color: #f0f8ff; font-family: 'Segoe UI', sans-serif; }
        .form-card { background: white; border-radius: 30px; box-shadow: 0 15px 35px rgba(33,150,243,0.1); border: none; overflow: hidden; margin-top: 30px; }
        .card-header { background: linear-gradient(135deg, #64b5f6 0%, #2196f3 100%); color: white; padding: 25px; border: none; }
        .form-label { color: #1565c0; font-weight: 600; }
        .form-control, .form-select { border-radius: 12px; border: 1px solid #bbdefb; padding: 12px; }
        .btn-buy { background: #2196f3; color: white; border-radius: 12px; border: none; padding: 12px; font-weight: bold; width: 100%; transition: 0.3s; }
        .btn-buy:hover { background: #1565c0; transform: translateY(-2px); }
    </style>
</head>
<body class="container py-4">
<!--
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞.
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å TicketPurchaseController –∏ –º–æ–¥–µ–ª—å—é TicketPurchase.

    –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    - –ü–æ–ª—è —Ñ–æ—Ä–º—ã:
        * client - –≤—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫—É–ø–∞–µ—Ç –∞–±–æ–Ω–µ–º–µ–Ω—Ç (select)
        * seasonTicket - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞/—Ç–∞—Ä–∏—Ñ–∞ (select)
        * purchaseDate - –¥–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (input type="date")
    - –î–∞–Ω–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Thymeleaf:
        * th:each="c : ${clients}" - –ø–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
        * th:each="t : ${tickets}" - –ø–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
        * th:text="${t.specialization.name + ' (' + t.price + ' ‚ÇΩ)'}" - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Ü–µ–Ω—ã
    - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç" –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É –Ω–∞ /purchases/save –º–µ—Ç–æ–¥–æ–º POST
    - –°—Å—ã–ª–∫–∞ "–û—Ç–º–µ–Ω–∞" –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫
-->
<div class="row justify-content-center">
    <div class="col-md-7">
        <div class="card form-card shadow">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ñ–æ—Ä–º—ã -->
            <div class="card-header text-center">
                <h3 class="mb-0">üí≥ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏</h3>
            </div>
            <div class="card-body p-4">
                <form th:action="@{/purchases/save}" th:object="${purchase}" method="post">

                    <!-- –í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ -->
                    <div class="mb-3">
                        <label class="form-label">–í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞</label>
                        <select th:field="*{client}" class="form-select" required>
                            <option th:each="c : ${clients}"
                                    th:value="${c.clientNumber}"
                                    th:text="${c.fullName}"></option>
                        </select>
                    </div>

                    <!-- –í—ã–±–æ—Ä –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ -->
                    <div class="mb-3">
                        <label class="form-label">–¢–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</label>
                        <select th:field="*{seasonTicket}" class="form-select" required>
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ --</option>
                            <option th:each="t : ${tickets}"
                                    th:value="${t.ticketNumber}"
                                    th:text="${t.specialization.name + ' (' + t.price + ' ‚ÇΩ)'}"></option>
                        </select>
                    </div>

                    <!-- –î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ -->
                    <div class="mb-4">
                        <label class="form-label">–î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏</label>
                        <input type="date" th:field="*{purchaseDate}" class="form-control" required>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ -->
                    <button type="submit" class="btn btn-buy shadow">–ü—Ä–æ–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç</button>

                    <!-- –°—Å—ã–ª–∫–∞ –æ—Ç–º–µ–Ω—ã -->
                    <div class="text-center mt-3">
                        <a th:href="@{/purchases}" class="text-muted small text-decoration-none">‚Ü© –û—Ç–º–µ–Ω–∞</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
